{%- import '_macros.j2' as macros with context -%}

{%- set config = manala_ssh_config_sshd -%}

{{ macros.config_row(config, 'PermitRootLogin', 'without-password') }}
{{ macros.config_row(config, 'PermitEmptyPasswords', false) }}
{{ macros.config_row(config, 'ChallengeResponseAuthentication', false) }}
{{ macros.config_row(config, 'PasswordAuthentication', false) }}
{{ macros.config_row(config, 'X11Forwarding', true) }}
{{ macros.config_row(config, 'PrintMotd', false) }}
{{ macros.config_row(config, 'Subsystem', 'sftp /usr/lib/openssh/sftp-server') }}
{{ macros.config_row(config, 'UsePAM', true) }}
{{ macros.config_row(config, 'UseDNS', false) }}
{{ macros.config_row(config, 'ClientAliveInterval', 30) }}

{{ macros.config(config, [
    'PermitRootLogin',
    'PermitEmptyPasswords',
    'ChallengeResponseAuthentication',
    'PasswordAuthentication',
    'X11Forwarding',
    'PrintMotd',
    'Subsystem',
    'UsePAM',
    'UseDNS',
    'ClientAliveInterval'
]) }}
